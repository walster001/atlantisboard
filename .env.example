# =====================================================
# AtlantisBoard Environment Configuration
# Copy this file to .env and fill in your values
# =====================================================

# --------------------------
# Core Application Settings
# --------------------------
APP_DOMAIN=atlantisboard.example.com
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
ENABLE_SSL=yes
CERTBOT_EMAIL=admin@example.com

# --------------------------
# Supabase Configuration
# For self-hosted: these are set automatically by `supabase start`
# For Lovable Cloud: these are provided automatically
# --------------------------
SUPABASE_URL=http://localhost:54321
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_DB_URL=postgresql://postgres:postgres@localhost:54322/postgres

# --------------------------
# Frontend Environment Variables
# These are used by the Vite build process
# --------------------------
VITE_SUPABASE_URL=http://localhost:54321
VITE_SUPABASE_PUBLISHABLE_KEY=your-anon-key-here
VITE_SUPABASE_PROJECT_ID=local

# --------------------------
# Google OAuth (Required)
# Configure in Google Cloud Console:
# https://console.cloud.google.com/apis/credentials
#
# 1. Create a new OAuth 2.0 Client ID
# 2. Set authorized JavaScript origins to your domain
# 3. Set authorized redirect URIs to: https://your-domain.com/auth/callback
# --------------------------
GOTRUE_EXTERNAL_GOOGLE_ENABLED=true
GOTRUE_EXTERNAL_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOTRUE_EXTERNAL_GOOGLE_SECRET=your-google-client-secret
GOTRUE_EXTERNAL_GOOGLE_REDIRECT_URI=https://atlantisboard.example.com/auth/callback

# --------------------------
# GoTrue / Auth Settings
# --------------------------
GOTRUE_SITE_URL=https://atlantisboard.example.com
GOTRUE_URI_ALLOW_LIST=https://atlantisboard.example.com/*
GOTRUE_DISABLE_SIGNUP=false
GOTRUE_EXTERNAL_EMAIL_ENABLED=true
GOTRUE_MAILER_AUTOCONFIRM=true

# --------------------------
# JWT Settings
# --------------------------
# JWT secret - generate with: openssl rand -base64 32
GOTRUE_JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters

# JWT expiry in seconds (3600 = 1 hour)
GOTRUE_JWT_EXP=3600

# --------------------------
# MySQL Email Verification (Optional)
# Used to verify user emails against an external MySQL database
# Leave blank if not using this feature
# --------------------------
MYSQL_ENCRYPTION_KEY=your-32-byte-hex-encryption-key
EXTERNAL_MYSQL_HOST=
EXTERNAL_MYSQL_PORT=3306
EXTERNAL_MYSQL_USER=
EXTERNAL_MYSQL_PASSWORD=
EXTERNAL_MYSQL_DATABASE=

# --------------------------
# SMTP Configuration (Optional)
# Required for email confirmations if GOTRUE_MAILER_AUTOCONFIRM=false
# --------------------------
GOTRUE_SMTP_HOST=smtp.example.com
GOTRUE_SMTP_PORT=587
GOTRUE_SMTP_USER=
GOTRUE_SMTP_PASS=
GOTRUE_SMTP_ADMIN_EMAIL=noreply@example.com
GOTRUE_SMTP_SENDER_NAME=AtlantisBoard

# --------------------------
# Database Connection (for migrations)
# --------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres
